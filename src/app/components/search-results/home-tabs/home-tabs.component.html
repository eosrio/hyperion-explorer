<div class="hr-container justify-start flex flex-col items-center w-full">

  <!-- Clickable Card Container -->
  <div class="grid grid-cols-1 md:grid-cols-3 auto-cols-max gap-5 text-black appear w-full">
    <div
      class="tabs-card w-full min-w-full h-full min-h-full md:col-span-3"
      (click)="toggleExpansion()"
      [class.is-expanded]="isExpanded"
      [class.is-collapsed]="!isExpanded"
    >
      <!-- Collapsed Header -->
      <div *ngIf="!isExpanded" class="collapsed-header">
        <span>Show Chain Details</span>
        <!-- Keep only this icon for expand/collapse indication -->
        <mat-icon class="expand-collapse-icon">expand_more</mat-icon>
      </div>

      <!-- Expanded Content (Tabs) - Apply Animation Here -->
      <div class="expanded-content-wrapper" [@expandCollapse]="isExpanded ? 'expanded' : 'collapsed'">
        <mat-tab-group *ngIf="isExpanded" fitInkBarToContent class="h-full login-source-tabs expanded-content">
          <mat-tab #statsTab>
            <ng-template mat-tab-label>
            <div class="flex flex-row items-center gap-3 w-full">
              <div>Chain Stats</div>
            </div>
          </ng-template>
          <ng-template matTabContent>
            <!-- Prevent click propagation from tab content -->
            <div (click)="$event.stopPropagation()">
              <app-stats></app-stats>
            </div>
          </ng-template>
        </mat-tab>

        <mat-tab #priceTab>
          <ng-template mat-tab-label>
            <div class="flex flex-row items-center gap-3 w-full">
              <div>Price History</div>
            </div>
          </ng-template>
          <ng-template matTabContent>
            <!-- Prevent click propagation from tab content -->
            <div (click)="$event.stopPropagation()">
              <app-price-history></app-price-history>
            </div>
          </ng-template>
        </mat-tab>
        <mat-tab #producersTab>
          <ng-template mat-tab-label>
            <div class="flex flex-row items-center gap-3 w-full">
              <div>Producers</div>
            </div>
          </ng-template>
          <ng-template matTabContent>
            <!-- Prevent click propagation from tab content -->
            <div (click)="$event.stopPropagation()">
              <app-producers></app-producers>
            </div>
          </ng-template>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>
