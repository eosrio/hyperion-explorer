.tabs-card {
  /*background: var(--card-bg-gradient);*/
  background: var(--card-bg-gradient), var(--main-background);
  box-shadow: var(--card-box-shadow);
  border-radius: var(--card-border-radius);
  padding: 0;
  box-sizing: border-box;
  color: var(--main-text);

}

/* Enhanced Tab Styling */
::ng-deep .mat-mdc-tab-group {
  /* Optional: Add background or border if needed */
  /*margin-bottom: 1rem; !* Add some space below the tabs *!*/
}

::ng-deep .mat-mdc-tab-header {
  /* Style the tab header container */
  /*border-bottom: 1px solid var(--table-border-color, #e0e0e0); !* Use a theme variable or lighter default *!*/
  /*background-color: var(--card-bg, #ffffff); !* Optional: Match card background *!*/
  border-radius: var(--card-border-radius) var(--card-border-radius) 0 0;
}

::ng-deep .mat-mdc-tab {
  /* Style individual tab labels */
  color: var(--faded); /* Use a theme variable */
  opacity: 0.7;
  height: 52px !important; /* Slightly taller tabs */
  padding: 0 24px !important; /* Increase horizontal padding */
  font-weight: 500; /* Medium font weight */
  transition: color 0.3s ease, opacity 0.3s ease; /* Smooth transition */
  background: none;
  box-shadow: none;
  background-color: transparent;
}

::ng-deep .mat-mdc-tab.mdc-tab .mdc-tab__text-label {
  color: var(--faded) !important;
}

::ng-deep .mat-mdc-tab:not(.mdc-tab--active):hover {
  opacity: 1;
  background-color: rgba(0,0,0,0.03); /* Subtle hover effect */
}

::ng-deep .mat-mdc-tab.mdc-tab--active {
  /* Style the active tab label */
  color: var(--primary) !important; /* Use primary theme color */
  opacity: 1;
  font-weight: 600; /* Slightly bolder active tab */
}

::ng-deep .mat-mdc-tab.mdc-tab--active .mdc-tab__text-label {
  color: var(--primary) !important;
}

::ng-deep .mat-mdc-tab .mdc-tab-indicator__content--underline {
  /* Style the active tab indicator line */
  border-color: var(--primary) !important; /* Use primary theme color */
  border-top-width: 3px !important; /* Make indicator thicker */
}

::ng-deep .mat-mdc-tab .mdc-tab__content {
  width: 100%;
  background: none;
  box-shadow: none;
  background-color: transparent;
}

::ng-deep .mat-mdc-tab-body-content {
  /* Style the content area of the tabs */
  padding-top: 1rem;
  min-height: 420px; /* Ensure content area has height for the chart */
  border-radius: 0 0 var(--card-border-radius) var(--card-border-radius);
  background: none;
  box-shadow: none;
  background-color: transparent;
}

/* Style for the tab body wrapper if needed */
::ng-deep .mat-mdc-tab-body-wrapper {
  background: none;
  box-shadow: none;
  background-color: transparent;
  /* background-color: var(--card-bg, #ffffff); Optional: Match card background */
}

/* Styles for the clickable card */
.tabs-card.is-collapsed {
  /* min-height: 60px; /* Minimum height is maintained by the content padding in HTML */
  /* display: flex; /* Flex handled in HTML */
  /* align-items: center; /* Alignment handled in HTML */
  /* padding: 0 24px; /* Padding handled in HTML */
  transition: min-height 0.3s ease-in-out, border-radius 0.3s ease-in-out; /* Keep height/radius transition */
  border-radius: var(--card-border-radius); /* Apply full radius when collapsed */
  overflow: hidden; /* Hide overflowing content when collapsed */
  /* cursor: pointer; /* Cursor handled on the .collapsed-header element in HTML */
}

.tabs-card.is-expanded {
  position: relative; /* Ensure this is the positioning context for the absolute button */
  border-radius: var(--card-border-radius); /* Keep consistent radius */
  padding: 0; /* Reset padding when expanded */
  cursor: default; /* Default cursor when expanded */
  min-height: auto; /* Allow natural height */
  overflow: visible; /* Show content when expanded */
  /* Ensure enough padding at the bottom for the absolute positioned button */
  padding-bottom: 60px; /* Adjust as needed based on button size and desired spacing */
}

/* Styles for the collapsed header - Most styling moved to Tailwind classes in HTML */
.collapsed-header {
  /* display: flex; */
  /* justify-content: space-between; */
  /* align-items: center; */
  /* width: 100%; */
  /* font-weight: 500; */
  /* color: var(--main-text); */
  /* transition: background-color 0.2s ease; */
  /* Removed styles now handled by Tailwind */
}

/* Removed old icon styles as they are handled by Tailwind on the button/div elements */
/* .expand-collapse-icon { ... } */
/* .tabs-card.is-collapsed:hover .expand-collapse-icon { ... } */
/* .tabs-card.is-expanded .expand-collapse-icon { ... } */


/* Removed hover styles for the card itself, hover is now on the header element in HTML */
/* .tabs-card.is-collapsed:hover { ... } */

/* Wrapper for animation */
.expanded-content-wrapper {
  overflow: hidden; /* Crucial for height animation */
  width: 100%;
}

/* Ensure expanded content takes up space */
.expanded-content {
  width: 100%;
  height: 100%;
  /* Reset padding potentially added by collapsed state */
  padding: 0;
}

/* Override tab body padding if needed for animation */
.expanded-content-wrapper ::ng-deep .mat-mdc-tab-body-content {
   padding-top: 1rem; /* Re-apply padding inside the animated container */
}
